---
title: Using GraphQL variables in Apollo Android
sidebar_title: GraphQL variables
---

GraphQL supports passing argument values to your operations with [variables](https://graphql.org/graphql-js/passing-arguments/). This enables you to write a single query that you can reuse with multiple variable values (this is a [recommended best practice](https://www.apollographql.com/docs/react/data/operation-best-practices/#use-variables-to-provide-graphql-arguments)).

In GraphQL, non-nullable variables are required, and nullable variables are optional. However, because variables are rarely omitted in practice, Apollo Android provides a mechanism to make variables non-optional in generated code. This makes the structure of generated code more straightforward.

Since you may still need to omit variables, the default is to generate them as optional, but this can be configured (on specific variables, or globally).

Consider the following GraphQL query with two nullable variables:

```graphql
query GetTodos($first: Int, $offset: Int) {
  todos(first: $first, offset: $offset) {
    id
    text
  }
}
```

Apollo Android generates the following Kotlin code for this query:

```kotlin
class GetTodosQuery(val first: Optional<Int?>, val offset: Optional<Int?>)
```

You can then selectively provide or omit variable values:

```kotlin
// Omit values for both variables
val query = GetTodosQuery(Optional.Absent, Optional.Absent)
// Provide null for both variables
val query = GetTodosQuery(Optional.Present(null), Optional.Present(null))
// Send explicit values for both variables
val query = GetTodosQuery(Optional.Present(100), Optional.Present(0))
```

## Make nullable variables non optional

If you want to make a variable non-optional in generated code, you can use the `@optional(if: false)` directive:

```graphql{1}
query GetTodos($first: Int @optional(if: false), $offset: Int @optional(if: false)) {
  todos(first: $first, offset: $offset) {
    id
    text
  }
}
```

In that case, Apollo Android generates the following Kotlin code:

```kotlin
class GetTodosQuery(val first: Int?, val offset: Int?)
```

This makes the calling code less verbose to use:

```kotlin
// Provide null for both variables
val query = GetTodosQuery(null, null)
// Send explicit values for both variables
val query = GetTodosQuery(100, 0)
```

If you pass `null` as the value for either of these variables, Apollo Android sends `null` to the server _as the value of that variable_ instead of omitting it entirely.

You can also opt out to optional variables globally in your Gradle config:

```kotlin
apollo {
  // ...
  generateOptionalOperationVariables.set(false)
}
```
